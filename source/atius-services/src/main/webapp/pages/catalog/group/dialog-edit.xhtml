<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:xp="http://java.sun.com/jsf/composite/xp">

	<h:form id="atius-services-group-edit-form-id" enctype="multipart/form-data">

		<p:dialog id="atius-services-group-edit-dlg-id" header="Grupo de Serviço" widgetVar="atius_services_group_edit_dlg" modal="true" width="440"
			resizable="false" closable="false">

			<h:panelGroup id="atius-services-group-edit-panel-id">

				<div class="xp-dialog">

					<h:outputText value="Área do serviço:" styleClass="xp-input-label" />
					<h:outputText value="#{serviceGroupEditMB.bean.area.name}" styleClass="xp-input" />

					<h:outputText value="Nome do grupo:" styleClass="xp-input-label" />
					<h:commandLink onclick="atius_services_group_edit_fileupload.cfg.fileInput.click(); return false;">
						<h:graphicImage value="/resources/images/upload_image.png" rendered="#{serviceGroupEditMB.bean.image == null}" styleClass="xp-left"
							style="margin: -4px 8px 0 2px;" />
						<p:graphicImage value="#{serviceGroupEditMB.imageByParamId}" height="32" width="32" styleClass="xp-left" style="margin: -3px 10px 0 0;"
							rendered="#{serviceGroupEditMB.bean.image != null}">
							<f:param name="id" value="#{serviceGroupEditMB.bean.id}" />
						</p:graphicImage>
					</h:commandLink>
					<h:inputText value="#{serviceGroupEditMB.bean.name}" autocomplete="off" onkeypress="return event.keyCode!=13" styleClass="xp-input"
						style="width: 333px;" />


					<h:outputText value="Descrição:" styleClass="xp-input-label" />
					<h:inputTextarea value="#{serviceGroupEditMB.bean.description}" onkeypress="return event.keyCode!=13" styleClass="xp-input" rows="4" />

					<p:fileUpload fileUploadListener="#{serviceGroupEditMB.upload}" auto="true" label="Selecionar logo..." mode="advanced" dragDropSupport="false"
						sizeLimit="100000" fileLimit="1" allowTypes="/(\.|\/)(jpe?g|png)$/" widgetVar="atius_services_group_edit_fileupload"
						styleClass="at-fileupload-hide" />

				</div>

				<xp:dialog-buttons id="atius-services-group-edit-dlg-save-id" dialogId="atius-services-group-edit-form-id:atius-services-group-edit-dlg-id"
					dialogWidgetVar="atius_services_group_edit_dlg" updateMode="#{serviceGroupEditMB.updateMode}" actionUpdater="#{serviceGroupEditMB.update}"
					actionInserter="#{serviceGroupEditMB.insert}" actionCloser="#{serviceAreaListMB.clearValidation}" updateOnClose=":lsrv-body-id"
					actionNew="#{serviceGroupEditMB.editBean(serviceGroupEditMB.bean.area)}"
					updateOnNew=":atius-services-group-edit-form-id:atius-services-group-edit-panel-id" insertMessage="Grupo cadastrado com sucesso!"
					updateMessage="Grupo atualizado com sucesso!" />

			</h:panelGroup>

		</p:dialog>

	</h:form>

</ui:composition>
