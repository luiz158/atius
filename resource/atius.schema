## Atius Core schema
## This work is part of ATIUS Software.
##
## Copyright 2011 Reinaldo Gil Lima de Carvalho <reinaldoc@gmail.com>
## All rights reserved.
##
## Redistribution and use in source and binary forms, with or without
## modification, are permitted only as authorized by the GPL v3
## Public License.

# OID Information: Prefix
# 1.3.6.1.4.1. => IANA reference
# 28339.       => UFPA node
# 1.1.8.       => CTIC.LDAP.Schemas

# OID Information: unique identifier
# 2.1.X        => ATIUS Core schema.attributetypes.unique identifier
# 2.2.X        => ATIUS Core schema.objectclasss.unique identifier

# ATIUS Core Schema ObjectClass Structure
#   atiusContainer
#     |---mailContainer
#     |     \--- (core.schema && inetOrgPerson.schema objectClasses)
#     |
#     |---dhcpContainer
#     |     \--- (dhcp.schema objectClasses)
#     |
#     \---websiteContainer
#           |---profileContainer
#           |     \---websiteProfile
#           |
#           |---categoryContainer
#           |     \---websiteCategory
#           |
#           |---webserverContainer
#           |     \---domainContainer
#           |           \---websiteDomain
#           |
#           \---databaseContainer
#                 \---schemaContainer
#                       \---websiteSchema
#


#
# generics attribute types
#
attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.500	NAME 'order'
	DESC 'Ordering of Entries'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.501	NAME 'availability'
	DESC 'Generic Aavailability: enabled, disabled, hidden'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

#
# atiusContainer objectclass
#
objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1000	NAME 'atiusContainer'
	DESC 'Atius Container'
	SUP top STRUCTURAL
	MUST ( cn ) )

#
# attribute types for dhcpContainer objectclass
#  * dhcpPrimaryServer
#
attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1021	NAME 'dhcpPrimaryServer'
	DESC 'The primary dhcp server for ATIUS'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1020		NAME 'dhcpContainer'
	DESC 'DHCP Container'
	SUP top STRUCTURAL
	MUST ( cn )
	MAY ( dhcpPrimaryServer ) )

#
# websiteContainer objectclass
#
objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1100	NAME 'websiteContainer'
	DESC 'Website Container'
	SUP top STRUCTURAL
	MUST ( cn ) )

#
# profileContainer objectclass
#
attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1201	NAME 'websiteSchemaModel'
	DESC 'Template to determine o schema name like:
          db_%d or db_%p_%d or %p_%s, where:
          %s = example
          %d = example_com_br
          %p = profile name (cn value)'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1200	NAME 'profileContainer'
	DESC 'Website Profile Container'
	SUP top STRUCTURAL
	MUST ( cn $ websiteSchemaModel ) )

#
# attribute types for websiteProfile objectclass
#  * webserverName
#  * schemaserverName
#  * websiteSchemaModel
#

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1301	NAME 'webserverName'
	DESC 'Webserver Name to find domainContainer to the new Website'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1302	NAME 'schemaserverName'
	DESC 'Database server name to find schemaContainer to new Schema'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1300	NAME 'websiteProfile'
	DESC 'Website Category'
	SUP top STRUCTURAL
	MUST ( cn $ webserverName )
	MAY ( schemaserverName $ websiteSchemaModel ) )

#
# attribute types for categoryContainer objectclass
#
objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1400	NAME 'categoryContainer'
	DESC 'Website Category Container'
	SUP top STRUCTURAL
	MUST ( cn ) )

#
# attribute types for websiteCategory objectclass
#  * availability
#  * blockSoftLimit
#  * blockHardLimit
#  * inodeSoftLimit
#  * inodeHardLimit
#

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1501	NAME 'blockSoftLimit'
	DESC 'Block Soft Quota Limit Category'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1502	NAME 'blockHardLimit'
	DESC 'Block Hard Quota Limit Category'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1503	NAME 'inodeSoftLimit'
	DESC 'Inode Soft Quota Limit Category'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1504	NAME 'inodeHardLimit'
	DESC 'Inode Hard Quota Limit Category'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1500	NAME 'websiteCategory'
	DESC 'Website Category'
	SUP top STRUCTURAL
	MUST ( cn )
	MAY ( availability $ order $ blockSoftLimit $ blockHardLimit $
          inodeSoftLimit $ inodeHardLimit ) )

#
# attribute types for webserverContainer objectclass
#  * blockGraceTimeModel
#  * inodeGraceTimeModel
#
attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1601	NAME 'blockGraceTimeModel'
	DESC 'Block Grace Time Model'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1602	NAME 'inodeGraceTimeModel'
	DESC 'Inode Grace Time Model'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1603	NAME 'nextUidNumberModel'
	DESC 'Next uid number model'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1600	NAME 'webserverContainer'
	DESC 'Website Webserver Container'
	SUP top STRUCTURAL
	MUST ( cn )
	MAY ( blockGraceTimeModel $ inodeGraceTimeModel $ nextUidNumberModel) )

#
# attribute types for domainContainer objectclass
#  * blockGraceTime
#  * inodeGraceTime
#
attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1701	NAME 'blockGraceTime'
	DESC 'Webserver Block Grace Time'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1702	NAME 'inodeGraceTime'
	DESC 'Webserver Inode Grace Time'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1703	NAME 'nextUidNumber'
	DESC 'Next available uid number'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1700	NAME 'domainContainer'
	DESC 'Website Webserver Container'
	SUP top STRUCTURAL
	MUST ( cn )
	MAY ( blockGraceTime $ inodeGraceTime $ nextUidNumber ) )

#
# attribute types for websiteDomain objectclass
#  * serverName
#  * serverAlias
#  * documentRoot
#  * suPhpEngine
#  * blockCount
#  * inodeCount
#  * graceTimeCountdown
#  * websiteProfile
#  * websiteCategory
#  * databaseSchemaDn
#  * blockSoftLimit
#  * blockHardLimit
#  * inodeSoftLimit
#  * inodeHardLimit
#  * adminId
#  * ownerId
#

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1801	NAME 'serverName'
	SUP name
	DESC 'Main domain name'
	SINGLE-VALUE )
	
attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1802	NAME 'serverAlias'
	SUP name
	DESC 'Domain alias' )
	
attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1803	NAME 'documentRoot'
	SUP name
	DESC 'Domain home directory'
	SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1804	NAME 'suPhpEngine'
	SUP name
	DESC 'Define suPHP support'
	SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1805	NAME 'blockCount'
	DESC 'Block count in Bytes'
	EQUALITY integerMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.27
	SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1806	NAME 'inodeCount'
	DESC 'Inode count in Bytes'
	EQUALITY integerMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.27
	SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1807	NAME 'adminId'
	DESC 'Admin Identification'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1808	NAME 'ownerId'
	DESC 'Owner Identification'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1809	NAME 'graceTimeCountdown'
	DESC 'Time before account lost write access because quota excedeed'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1810	NAME 'websiteProfile'
	DESC 'Website Profile like a simple FTP area or a CMS name'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1811	NAME 'websiteCategory'
	DESC 'Website Category'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

attributetype ( 1.3.6.1.4.1.28339.1.1.8.2.1.1812	NAME 'databaseSchemaDn'
	DESC 'Database Schema DN'
	EQUALITY caseIgnoreMatch
	SUBSTR caseIgnoreSubstringsMatch
	SYNTAX 1.3.6.1.4.1.1466.115.121.1.15{128} )

objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1800	NAME 'websiteDomain'
	DESC 'Website Domain'
	SUP top STRUCTURAL
	MUST ( cn $ serverName $ documentRoot $ availability $ adminId $ ownerId )
	MAY ( serverAlias $ suPhpEngine $ blockCount $ inodeCount $
          graceTimeCountdown $ websiteProfile $ websiteCategory $
          databaseSchemaDn $ blockSoftLimit $ blockHardLimit $
          inodeSoftLimit $ inodeHardLimit ) )

#
# databaseContainer objectclass
#
objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.1900	NAME 'databaseContainer'
	DESC 'Website Database Container'
	SUP top STRUCTURAL
	MUST ( cn ) )

#
# schemaContainer objectclass
#
objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.2000	NAME 'schemaContainer'
	DESC 'Database Server Container'
	SUP top STRUCTURAL
	MUST ( cn ) )

#
# attribute types for websiteSchema objectclass
#
objectclass	( 1.3.6.1.4.1.28339.1.1.8.2.2.2100	NAME 'websiteSchema'
	DESC 'Website Schema'
	SUP top STRUCTURAL
	MUST ( cn ) )
